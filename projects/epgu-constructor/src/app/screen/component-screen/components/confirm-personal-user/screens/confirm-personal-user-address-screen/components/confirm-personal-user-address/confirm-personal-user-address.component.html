<form #dataForm="ngForm">
  <div class="flex-row" *ngIf="data?.attrs?.actions?.length === 1">
    <a href="javascript:void(0);" (click)="handleClick()" class="button-change"> Редактировать </a>
  </div>
  <ng-container
    *ngFor="let field of data?.attrs?.fields; let i = index"
    [ngSwitch]="field?.fieldName"
  >
    <epgu-constructor-address-item *ngSwitchCase="'regAddr'" class="item" [label]="field.label">
      <lib-dadata-widget
        [simpleMode]="true"
        [disabled]="!isEditable"
        [hideHouseCheckbox]="true"
        [name]="field.fieldName"
        [externalApiUrl]="config.externalApiUrl + '/'"
        [initValue]="valueParsed[field.fieldName]"
        [(ngModel)]="valueParsed[field.fieldName]"
      >
      </lib-dadata-widget>
    </epgu-constructor-address-item>

    <epgu-constructor-address-item
      *ngSwitchCase="
        ['regFrom', 'regTo', 'regDate'].includes(field?.fieldName)
          ? field?.fieldName
          : !field?.fieldName
      "
      class="item item--date"
      [label]="field.label"
    >
      <lib-date-picker
        [name]="field.fieldName"
        align="left"
        minDate="-50y"
        [(ngModel)]="valueParsed[field.fieldName]"
      >
      </lib-date-picker>
    </epgu-constructor-address-item>

    <epgu-constructor-address-item *ngSwitchDefault class="item" [label]="field.label">
      <lib-plain-input
        epgu-constructor-trim
        epgu-constructor-text-transform
        [textTransformType]="textTransformType"
        [disabled]="!isEditable"
        [(ngModel)]="valueParsed[field.fieldName]"
        [name]="field.fieldName"
        class="content content__input"
      >
      </lib-plain-input>
    </epgu-constructor-address-item>
  </ng-container>
  <div class="error">
    <small>{{ error }}</small>
  </div>
</form>
