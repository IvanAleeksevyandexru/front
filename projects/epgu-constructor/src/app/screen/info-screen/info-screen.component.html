<epgu-constructor-screen-container
  *ngIf="{
    showNav: screenService.showNav$ | async,
    hideSocialShare: (screenService.component$ | async)?.attrs?.hideSocialShare,
    displayCssClass: screenService.displayCssClass$ | async,
    header: screenService.header$ | async,
    submitLabel: screenService.submitLabel$ | async,
    isLoading: screenService.isLoading$ | async
  } as async"
  [show-nav]="async.showNav"
  [class.screen-container-mt]="!async.showNav"
>
  <epgu-constructor-screen-pad
    class="screen-body"
    [ngClass]="async.displayCssClass"
  >
    <div *ngIf="async.header">
      <epgu-constructor-page-name class="info__head">{{ async.header }}</epgu-constructor-page-name>
      <div class="divider"></div>
    </div>

    <epgu-constructor-info-screen-body [data]="screenService.component">
    </epgu-constructor-info-screen-body>

    <ng-container *ngIf="actionButtons.length">
      <ng-container *ngTemplateOutlet="actionsBtns"></ng-container>
    </ng-container>

    <ng-container *ngIf="screenActionButtons.length">
      <ng-container *ngTemplateOutlet="screenActionBtns"></ng-container>
    </ng-container>

    <div class="info__submit" *ngIf="async.submitLabel">
      <lib-button
        class="submit-button"
        data-testid="submit-btn"
        epgu-constructor-action
        [action]="nextStepAction"
        [showLoader]="async.isLoading"
        [disabled]="async.isLoading"
      >
        {{ async.submitLabel }}
      </lib-button>
    </div>
  </epgu-constructor-screen-pad>

  <div class="screen-footer">
    <lib-social-share
      *ngIf="!async.hideSocialShare"
      class="social-share"
      [isNewDesign]="true"
      [isNewDesignDisabled]="isSocialShareDisabled || (screenService.terminal$ | async)"
      [url]="locationService.getHref()"
    ></lib-social-share>
  </div>
</epgu-constructor-screen-container>

<ng-template #screenActionBtns>
  <div class="info__actions">
    <lib-button
      *ngFor="let action of screenActionButtons"
      class="info__action submit-button"
      epgu-constructor-action
      [action]="action"
      [color]="action.color"
    >
      <div>{{ action.label }}</div>
    </lib-button>
  </div>
</ng-template>

<!-- TODO: убрать после переезда на механизм screenActionsBtns -->
<ng-template #actionsBtns>
  <div class="info__actions">
    <lib-button
      *ngFor="let action of actionButtons"
      class="info__action submit-button"
      epgu-constructor-action
      [action]="action"
      [color]="action.color"
    >
      {{ action.label }}
    </lib-button>
  </div>
</ng-template>
