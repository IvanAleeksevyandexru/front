<app-screen-container>
  <div class="inner">
    <div *ngIf="data?.header" class="head">
      <app-page-name>{{ data?.header }}</app-page-name>
    </div>

    <app-screen-pad class="body">
      <form action="" class="form">
        <ng-container *ngFor="let componentData of data?.components">
          <ng-container [ngSwitch]="componentData.type">

            <div class="form__item" *ngSwitchCase="componentType.LabelSection">
              <app-label-section [name]="componentData.label"></app-label-section>
            </div>

            <div class="form__item" *ngSwitchCase="componentType.Dictionary">
              <div class="form__title">{{componentData.label}}</div>
              <lib-dropdown
                class="cs__select cs-select"
                (changed)="selectDictionary($event, componentData)"
                [items]="dictionary[componentData?.attrs?.dictionaryType]?.list"></lib-dropdown>
            </div>

            <div class="form__item" *ngSwitchCase="componentType.ForeignCitizenship">
              <div class="form__title">{{componentData.label}}</div>
              <app-foreign-citizenship></app-foreign-citizenship>
            </div>

            <div class="form__item" *ngSwitchCase="componentType.StringInput">
              <div class="form__title">{{componentData.label}}</div>
              <lib-plain-input (change)="inputChange($event, componentData)"></lib-plain-input>
            </div>

            <div class="form__item" *ngSwitchCase="componentType.DateInput">
              <div class="form__title">{{componentData.label}}</div>
              <div>Компонент не настроен</div>
  <!--            Нужно настраивать почему-то вываливается ошибка-->
  <!--            <lib-date-picker (changed)="dateChage($event, componentData)"></lib-date-picker>-->
            </div>

          <div class="form__item" *ngSwitchCase="componentType.FileUploadComponent">
            <div class="form__title" *ngIf="componentData.label && componentData.label.length">{{componentData.label}}</div>
            <app-file-upload [attributes]="componentData.attrs" [objectId]="'73370666'" [prefixForMnemonic]="getUploadComponentPrefixForMnemonic(componentData)" (change)="inputChange($event, componentData)"></app-file-upload>
          </div>

        </ng-container>
      </ng-container>
    </form>
  </app-screen-pad>

    <div class="footer">
      <lib-button [showLoader]="isLoading" (click)="nextScreen()" class="footer__btn-submit">{{data.submitLabel}}</lib-button>
    </div>
  </div>
</app-screen-container>
