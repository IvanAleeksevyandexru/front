<epgu-cf-ui-constructor-screen-pad>

  <ng-container *ngIf="specLookupAttrs">
    <epgu-constructor-label [label]="specLookupAttrs.label" for="spec"></epgu-constructor-label>

    <epgu-cf-ui-constructor-constructor-lookup
      epgu-constructor-validation-type
      #specLookup
      [itemsProvider]="specProvider"
      [control]="specLookupControl"
      [validationShowOn]="validationShowOn"
      [virtualScroll]="true"
      [queryMinSymbolsCount]="0"
      [showMagnifyingGlass]="true"
      (changed)="specLookupWasChanged.emit($event)"
    >
    </epgu-cf-ui-constructor-constructor-lookup>
  </ng-container>


  <ng-container *ngIf="isDocLookupShown">
    <epgu-constructor-label [label]="docLookupAttrs.label" for="doctors"></epgu-constructor-label>

    <epgu-cf-ui-constructor-constructor-lookup
      epgu-constructor-validation-type
      #docLookup
      [itemsProvider]="doctorProvider"
      [control]="docLookupControl"
      [validationShowOn]="validationShowOn"
      [queryMinSymbolsCount]="0"
      [virtualScroll]="true"
      [showMagnifyingGlass]="true"
      (changed)="docLookupWasChanged.emit($event)"
    >
    </epgu-cf-ui-constructor-constructor-lookup>
  </ng-container>

  <ng-container *ngIf="isMapShown">

    <div class="months-range">
      {{ monthsRange }}
    </div>

    <epgu-cf-ui-constructor-time-calendar
      [weeks]="weeks"
      [currentSlot]="currentSlot"
      [isExistsSlots]="isExistsSlots"
      [slotList]="slotList"
      (chooseTimeSlot)="chooseTimeSlot.emit($event)"
      (selectDate)="selectDate.emit($event)"
    >
    </epgu-cf-ui-constructor-time-calendar>

  </ng-container>


</epgu-cf-ui-constructor-screen-pad>

<div class="screen-footer">
  <div class="screen-footer--time-slots">
      <span *ngIf="isChosenTimeStrVisible" class="time">
        Вы забронировали:
        <span class="time--bold">
          {{ chosenTimeStr }}
        </span>
      </span>
    <lib-button
      [showLoader]="isLoading || inProgress"
      (click)="bookSlot.emit()"
      class="submit-button"
      [disabled]="!this.isValid || this.inProgress || !this.currentSlot?.slotId"
    >
      <div class="secondary-font">{{ labelButton }}</div>
    </lib-button>
  </div>
</div>
