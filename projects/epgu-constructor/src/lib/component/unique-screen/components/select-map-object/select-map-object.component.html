<div class="widget">
  <epgu-constructor-search-panel-resolver
    class="search-panel"
    [panelType]="searchPanelType"
    [label]="data.label"
    [disclaimer]="data.attrs.disclaimer"
    [showNav]="screenService.showNav$ | async"
    [noDepartmentsErrorMsg]="data.attrs.noDepartmentsErrorMsg"
    [isNoDepartmentErrorVisible]="selectMapObjectService.isNoDepartmentErrorVisible | async"
  ></epgu-constructor-search-panel-resolver>
  <epgu-cf-ui-constructor-yandex-map [showMap]="showMap">
    <div *ngIf="selectedValue" class="map-objects-list">
      <perfect-scrollbar [config]="scrollConfig" class="perfect-scrollbar">
        <ng-container *ngTemplateOutlet="contentBlock"></ng-container>
      </perfect-scrollbar>
      <ng-template #contentBlock>
        <div class="cross-btn" (click)="closeBaloon()"></div>
        <ng-container *ngFor="let mapObject of selectedValue">
          <epgu-constructor-balloon-content-resolver
            [contentType]="balloonContentType"
            [mapObject]="mapObject"
            [isSelectButtonHidden]="data.attrs.isSelectButtonHidden"
            [attrs]="data.attrs.balloonAttrs"
            (selectObject)="selectObject($event)"
            (expandObjectEvent)="expandObject(mapObject)"
          >
          </epgu-constructor-balloon-content-resolver>
        </ng-container>
      </ng-template>
    </div>
  </epgu-cf-ui-constructor-yandex-map>
</div>
