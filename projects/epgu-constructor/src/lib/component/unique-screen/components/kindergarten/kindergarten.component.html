<ng-container *ngIf="kindergartenService.state$ | async as state">
  <epgu-constructor-select-map-object
    #selectMapObjectComp
    [hidden]="!(state === states.map)"
  ></epgu-constructor-select-map-object>
  <lib-button
    *ngIf="state === states.map && kindergartenSearchPanel.deptsChoosen$ | async"
    (click)="kindergartenService.setState(states.priority)"
    class="submit-button next-step-button"
    width="wide"
    >Расставить сады по приоритету
  </lib-button>
  <epgu-constructor-priority-screen
    [disableNextButton]="!(state === states.priority)"
    [hidden]="!(state === states.priority)"
    (back)="kindergartenService.setState(states.map)"
    (showMap)="showMap($event)"
  ></epgu-constructor-priority-screen>
</ng-container>
