<div class="card__select">
  <epgu-cf-ui-constructor-constructor-dropdown
    [id]="idx"
    [items]="children"
    [control]="control"
    (changed)="selectChildren($event)"
    [clearable]="isClearable"
    [placeholder]="defaultLabelList"
  ></epgu-cf-ui-constructor-constructor-dropdown>
</div>
<div class="mt-8" *ngIf="hint">
  <epgu-cf-ui-constructor-helper-text>
    {{ hint }}
  </epgu-cf-ui-constructor-helper-text>
</div>
<section class="card__content" *ngIf="!isNewChild && control.value && visibleComponents.length > 0">
  <epgu-constructor-components-list
    [componentsGroupIndex]="idx"
    [components]="components | memo: showComponents:this"
    [errors]="errors"
    (changes)="updateChild($event)"
    (emitFormStatus)="updateItemValueAndValidity()"
    (emitFormCreated)="updateItemValidators($event)"
  >
  </epgu-constructor-components-list>
</section>

<section class="card__content" *ngIf="isNewChild">
  <epgu-constructor-components-list
    [componentsGroupIndex]="idx"
    [components]="components"
    [errors]="errors"
    (changes)="updateChild($event)"
    (emitFormStatus)="updateItemValueAndValidity()"
    (emitFormCreated)="updateItemValidators($event)"
  >
  </epgu-constructor-components-list>
</section>
